<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D road</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/webvr-polyfill@latest/build/webvr-polyfill.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script> -->
</head>
<body>
    <!--add attribute "stats" to a-scene to see fps and stuff-->
    <a-scene environment="preset: starry; ground: none;" vr-mode-ui="enabled: true">
        <a-assets>
            <a-asset-item id="taller_to_thinner" src="textures/skyscrapers/taller_to_thinner.glb"></a-asset-item>
            <a-asset-item id="thick_wide" src="textures/skyscrapers/thick_wide.glb"></a-asset-item>
            <a-asset-item id="spiral" src="textures/skyscrapers/spiral.glb"></a-asset-item>
            <a-asset-item id="big_view" src="textures/skyscrapers/big_view.glb"></a-asset-item>

            <a-asset-item id="street_lamp_model" src="textures/light/city_streetlight_2.glb"></a-asset-item>
            <a-asset-item id="car_model" src="textures/car/cyberpunk_car.glb"></a-asset-item>
            <a-asset-item id="house_model" src="textures/custom_built_house_w_tex.glb"></a-asset-item>
            <img id="pavement_normal" src="textures/pavement_normal.jpg">
        </a-assets>
        <a-camera id="player_camera" wasd-controls="acceleration: 30" rotation="-19.481 44.232 0" position="0.152 1.6 130"></a-camera>
        <a-sky color="black"></a-sky>
        <a-plane id="floor" material="color: #1f1f1f; emissive: #000000; roughness: 1" geometry="height: 270; width: 270" position="0 0.17803 0" rotation="-90 0 0"></a-plane>
        <a-entity id="road_part1" position="-4 0 0">
            <a-box 
                id="road" position="0 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="road2" position="8 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="pavement_right" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="13.97212 0.15045 0"
                repeat="2 30"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_right" position="0 0 2.07703" rotation="0 180 0">
                    <a-entity
                        id="lamp4" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light4" rotation="-90 0 0" light="type: spot; intensity: 0.3; shadowRadius: 1; angle: 40; decay: 1; distance: 0; shadowBias: 0; shadowCameraVisible: false" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp5" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light5" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp6" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light6" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
            <a-box 
                id="pavement_left" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="-5.97212 0.15045 0"
                repeat="2 30"
                scale="1 1"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_left">
                    <a-entity
                        id="lamp1" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light1" rotation="-90 0 0" light="type: spot; intensity: 0.3; angle: 40" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp2" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light2" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp3" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light3" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
        </a-entity>
        <a-entity id="road_part2" position="-4 0 90">
            <a-box 
                id="road" position="0 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="road2" position="8 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="pavement_right" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="13.97212 0.15045 0"
                repeat="2 30"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_right" position="0 0 2.07703" rotation="0 180 0">
                    <a-entity
                        id="lamp4" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light4" rotation="-90 0 0" light="type: spot; intensity: 0.3; shadowRadius: 1; angle: 40; decay: 1; distance: 0; shadowBias: 0; shadowCameraVisible: false" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp5" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light5" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp6" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light6" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
            <a-box 
                id="pavement_left" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="-5.97212 0.15045 0"
                repeat="2 30"
                scale="1 1"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_left">
                    <a-entity
                        id="lamp1" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light1" rotation="-90 0 0" light="type: spot; intensity: 0.3; angle: 40" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp2" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light2" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp3" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light3" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
        </a-entity>
        <a-entity id="road_part3" position="-4 0 -90">
            <a-box 
                id="road" position="0 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="road2" position="8 0.087 0" 
                material="color: #ffffff" 
                geometry="depth: 90; height: 0.5; width: 8"
                src="textures/cracked_road.jpg"
                repeat="1 12"
                roughness="1"
                >
            </a-box>
            <a-box 
                id="pavement_right" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="13.97212 0.15045 0"
                repeat="2 30"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_right" position="0 0 2.07703" rotation="0 180 0">
                    <a-entity
                        id="lamp4" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light4" rotation="-90 0 0" light="type: spot; intensity: 0.3; shadowRadius: 1; angle: 40; decay: 1; distance: 0; shadowBias: 0; shadowCameraVisible: false" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp5" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light5" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp6" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light6" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
            <a-box 
                id="pavement_left" 
                geometry="height: 0.8; depth: 90; width: 6" 
                position="-5.97212 0.15045 0"
                repeat="2 30"
                scale="1 1"
                src="textures/pavement_base.jpg"
                normal-map="#pavement_normal"
                normal-texture-repeat="2 30"
                normal-scale="1 1"
                roughness="0.8"
                >
                <a-entity id="lamps_left">
                    <a-entity
                        id="lamp1" rotation="0 180 0" position="-0.3 0.357 0"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light1" rotation="-90 0 0" light="type: spot; intensity: 0.3; angle: 40" position="-85 1346 -130"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp2" rotation="0 180 0" position="-0.3 0.357 30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light2" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                    <a-entity
                        id="lamp3" rotation="0 180 0" position="-0.3 0.357 -30"
                        scale="0.008 0.008 0.008"
                        gltf-model="#street_lamp_model"
                        >
                        <a-light 
                            id="lamp_light3" rotation="-90 0 0" position="-85 1346 -130" light="type: spot; shadowBias: 0; penumbra: 0; intensity: 0.3; angle: 40"
                            intensity="0.2"
                            type="directional"
                            >
                        </a-light>
                    </a-entity>
                </a-entity>
            </a-box>
        </a-entity>
        
        

        <!-- animation__drive="property: position; dur: 8000; easing: linear; loop: -1; from: -1.535 0.344 -42.28; to: -1.535 0.344 42.28" -->
        <a-entity id="car1" rotation="0 180 0" position="-5.535 0.344 -42.28" scale="0.01 0.01 0.01" gltf-model="#car_model"
      
            >
        </a-entity>
      
        <!-- animation__drive="property: position; dur: 8000; easing: linear; loop: -1; from: 1.535 0.344 42.28; to: 1.535 0.344 -42.28" -->
        <a-entity id="car2" position="5.535 0.344 42.28" scale="0.01 0.01 0.01" gltf-model="#car_model"
      
            >
        </a-entity>

        <a-entity id="skyscrapers_left" position="-1.01266 0 0">
            <a-entity id="skyleft1" position="-20 0 85" scale="0.5 0.5 0.5" gltf-model="#taller_to_thinner"></a-entity>
            <a-entity id="skyleft2" position="-20 0 62" scale="0.5 0.5 0.5" gltf-model="#spiral"></a-entity>
            <a-entity id="skyleft3" rotation="0 90 0" position="-20 0 117" scale="0.5 0.5 0.5" gltf-model="#thick_wide"></a-entity>
            <a-entity id="skyleft4" rotation="0 90 0" scale="0.5 0.5 0.5" position="-20 0 30" gltf-model="#big_view"></a-entity>
        </a-entity>
        <a-entity id="skyscrapers_right" position="0 0 188.97374" rotation="0 180 0">
            <a-entity id="skyright1" position="-20 0 85" scale="0.5 0.5 0.5" gltf-model="#taller_to_thinner"></a-entity>
            <a-entity id="skyright2" position="-20 0 62" scale="0.5 0.5 0.5" gltf-model="#spiral"></a-entity>
            <a-entity id="skyright3" rotation="0 90 0" position="-20 0 117" scale="0.5 0.5 0.5" gltf-model="#thick_wide"></a-entity>
        </a-entity>
    </a-scene>
</body>
</html>